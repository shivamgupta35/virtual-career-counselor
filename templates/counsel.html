<!DOCTYPE html>
<html lang="en">
<head>
  <title>Career Counselor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = { darkMode: 'class' }
  </script>
</head>

<body class="min-h-screen
             bg-slate-100 text-slate-900
             dark:bg-gradient-to-br dark:from-slate-900 dark:via-slate-800 dark:to-black
             dark:text-slate-100 transition-colors duration-300 overflow-x-hidden">

<!-- TOP RIGHT -->
<div class="fixed top-4 right-4 z-50 flex gap-3">
  <button onclick="toggleTheme()"
    class="px-3 py-2 rounded-xl bg-slate-200 dark:bg-white/10 hover:scale-105 transition">
    ğŸŒ™ / â˜€ï¸
  </button>

  <a href="/logout"
    class="px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600 transition">
    Logout
  </a>
</div>

<div class="max-w-7xl mx-auto px-6 pt-10 pb-14">

  <!-- HEADER -->
  <div class="mb-6">
    <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">
      Welcome, {{ user.name }} ğŸ‘‹
    </h1>
    <p class="mt-1 text-slate-600 dark:text-slate-400 text-lg">
      AI-powered career guidance dashboard
    </p>
  </div>

  <!-- INPUT BAR -->
  <div class="bg-white dark:bg-white/5 backdrop-blur
              border border-slate-200 dark:border-white/10
              rounded-2xl p-5 mb-6 shadow-lg">
    <label class="block text-sm mb-2 text-slate-600 dark:text-slate-400">
      ğŸ¯ Enter your desired career
    </label>

    <div class="flex flex-col lg:flex-row gap-4">
      <input id="career"
        placeholder="e.g. Cloud Engineer"
        class="flex-1 rounded-xl px-4 py-3
               bg-white dark:bg-slate-900
               border border-slate-300 dark:border-white/10
               focus:outline-none focus:ring-2 focus:ring-blue-500">

      <button onclick="exploreAll()"
        class="px-8 py-3 rounded-xl font-semibold
               bg-gradient-to-r from-blue-600 to-indigo-600
               text-white shadow-lg
               hover:scale-[1.05] transition">
        ğŸš€ Explore Career
      </button>
    </div>
  </div>

  <!-- LOADER -->
  <div id="loader"
    class="hidden flex justify-center items-center gap-3 my-4 text-slate-500 dark:text-slate-400">
    <div class="h-6 w-6 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"></div>
    <span>AI is thinkingâ€¦</span>
  </div>

  <!-- DASHBOARD -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-4">

    <!-- CARD 1 -->
    <div class="bg-white dark:bg-white/5
                border border-slate-200 dark:border-white/10
                rounded-2xl shadow-md flex flex-col
                h-[420px]">
      <div class="px-4 py-3 border-b border-slate-200 dark:border-white/10">
        <h2 class="font-semibold text-blue-600 dark:text-blue-400">
          ğŸš€ Career Path
        </h2>
      </div>

      <pre id="outputText"
        class="hidden flex-1 overflow-y-auto overflow-x-hidden
               px-4 py-3 text-sm leading-relaxed
               bg-slate-100 dark:bg-black/60
               text-slate-900 dark:text-emerald-400
               whitespace-pre-wrap">
      </pre>
    </div>

    <!-- CARD 2 -->
    <div class="bg-white dark:bg-white/5
                border border-slate-200 dark:border-white/10
                rounded-2xl shadow-md flex flex-col
                h-[420px]">
      <div class="px-4 py-3 border-b border-slate-200 dark:border-white/10">
        <h2 class="font-semibold text-green-600 dark:text-green-400">
          ğŸ“š Courses
        </h2>
      </div>

      <pre id="coursesText"
        class="hidden flex-1 overflow-y-auto overflow-x-hidden
               px-4 py-3 text-sm leading-relaxed
               bg-slate-100 dark:bg-black/60
               text-slate-900 dark:text-yellow-400
               whitespace-pre-wrap">
      </pre>
    </div>

    <!-- CARD 3 -->
    <div class="bg-white dark:bg-white/5
                border border-slate-200 dark:border-white/10
                rounded-2xl shadow-md flex flex-col
                h-[420px]">
      <div class="px-4 py-3 border-b border-slate-200 dark:border-white/10">
        <h2 class="font-semibold text-purple-600 dark:text-purple-400">
          ğŸ“Š Job Market
        </h2>
      </div>

      <pre id="marketText"
        class="hidden flex-1 overflow-y-auto overflow-x-hidden
               px-4 py-3 text-sm leading-relaxed
               bg-slate-100 dark:bg-black/60
               text-slate-900 dark:text-purple-300
               whitespace-pre-wrap">
      </pre>
    </div>

  </div>

  <!-- FOOTER -->
  <div class="mt-12 text-center text-sm text-slate-600 dark:text-slate-400">
    Made with â¤ï¸ by <strong>Shivam</strong> â€”
    <span class="text-blue-600 dark:text-blue-400">Full Stack Cloud Engineer</span>
    <div class="mt-2 flex justify-center gap-6">
      <a href="https://github.com/shivamgupta35" target="_blank">GitHub</a>
      <a href="https://www.linkedin.com/in/shivam-gupta33" target="_blank">LinkedIn</a>
      <a href="https://www.credly.com/users/shivam-gupta./badges" target="_blank">AWS Credly</a>
    </div>
  </div>

</div>

<script src="{{ url_for('static', filename='js/main.js') }}"></script>

<script>
  const root = document.documentElement;
  if (localStorage.getItem("theme") !== "light") root.classList.add("dark");

  function toggleTheme() {
    root.classList.toggle("dark");
    localStorage.setItem("theme", root.classList.contains("dark") ? "dark" : "light");
  }
</script>

</body>
</html>
